<script>
let ctx, buffer, source;

async function playLoop() {
    ctx = new (window.AudioContext || window.webkitAudioContext)();
    const res = await fetch("music.mp3");
    const arrayBuffer = await res.arrayBuffer();
    buffer = await ctx.decodeAudioData(arrayBuffer);

    source = ctx.createBufferSource();
    source.buffer = buffer;
    source.loop = true;
    source.connect(ctx.destination);
    source.start(0);
}

// iOS bắt buộc có touch
document.addEventListener("touchstart", playLoop, { once: true });
</script>
